(window.webpackJsonpapp=window.webpackJsonpapp||[]).push([[0],{164:function(e,t,a){e.exports=a(381)},380:function(e,t,a){},381:function(e,t,a){"use strict";a.r(t);var n,r=a(1),c=a.n(r),o=a(5),l=a.n(o),i=a(70),s=a(35),m=a(50),p=a(158),u={isLogin:!0,userinfo:{}},d=function(e){return e.user},h=Object(m.d)(Object(m.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"LOGIN":return a.isLogin=!0,a.userinfo=t.value,a;default:return e}}}),Object(m.a)(p.a)),v=a(49),f=(a(120),a(113)),E=a.n(f),b=(a(174),a(119)),y=a.n(b),g=(a(77),a(12)),O=a.n(g),j=a(13),w=a(14),N=a(17),k=a(15),x=a(16),_=(a(177),a(51)),S=a.n(_),z=S.a.create({name:"normal_login"})(n=Object(v.b)(d,{login:function(e){return{type:"LOGIN",value:e}}})(n=function(e){function t(){var e,a;Object(j.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(N.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.props.login(t)})},a}return Object(x.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLogin,a=e.location;if(t){var n=a.state,r="/";return n&&(r=n.redirect),c.a.createElement(s.a,{to:r})}var o=this.props.form.getFieldDecorator;return c.a.createElement("div",{className:"login-page"},c.a.createElement("div",{className:"login-logo"},c.a.createElement("img",{alt:"logo",src:"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg"})),c.a.createElement(S.a,{onSubmit:this.handleSubmit,className:"login-form"},c.a.createElement(S.a.Item,null,o("username",{rules:[{required:!0,message:"Please input your username!"}]})(c.a.createElement(y.a,{prefix:c.a.createElement(O.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),c.a.createElement(S.a.Item,null,o("password",{rules:[{required:!0,message:"Please input your Password!"}]})(c.a.createElement(y.a,{prefix:c.a.createElement(O.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),c.a.createElement(S.a.Item,null,c.a.createElement(E.a,{type:"primary",block:!0,htmlType:"submit"},"\u767b\u5f55"))))}}]),t}(c.a.Component))||n)||n,L=function(e){function t(){return Object(j.a)(this,t),Object(N.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,"404, ",this.props.location.pathname," \u4e0d\u5b58\u5728")}}]),t}(c.a.Component),C=a(72),P=(a(347),a(58)),D=a.n(P),I=(a(350),a(52)),M=a.n(I),K=M.a.Header,q=M.a.Sider,A=M.a.Content,B=function(e){function t(){var e,a;Object(j.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(N.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1},a.toggle=function(){a.setState({collapsed:!a.state.collapsed})},a}return Object(x.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){return c.a.createElement(M.a,{style:{height:"100%"}},c.a.createElement(q,{trigger:null,collapsible:!0,collapsed:this.state.collapsed},c.a.createElement("div",{className:"logo"}),c.a.createElement(D.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},c.a.createElement(D.a.Item,{key:"1"},c.a.createElement(O.a,{type:"user"}),c.a.createElement("span",null,"nav 1")),c.a.createElement(D.a.Item,{key:"2"},c.a.createElement(O.a,{type:"video-camera"}),c.a.createElement("span",null,"nav 2")),c.a.createElement(D.a.Item,{key:"3"},c.a.createElement(O.a,{type:"upload"}),c.a.createElement("span",null,"nav 3")))),c.a.createElement(M.a,null,c.a.createElement(K,{className:"top-bar"},c.a.createElement(O.a,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle})),c.a.createElement(A,{style:{margin:"24px 16px",padding:20,background:"#fff",minHeight:280}},"Content")))}}]),t}(c.a.Component),G=(a(366),a(163)),H=a.n(G),J=a(162),R=a(75),X=[{type:"area-chart",name:"\u56fe\u8868"},{type:"picture",name:"\u5a92\u4f53"},{type:"font-size",name:"\u6587\u672c"},{type:"shop",name:"\u7d20\u6750",child:[{type:"Rect",name:"\u77e9\u5f62",w:200,h:200},{type:"MinIcon",name:"\u5c0f\u56fe\u6807",w:100,h:100}]}];function Y(e){var t=e.operation,a=e.type,n=e.name;return c.a.createElement("div",{className:"btn-container",onClick:function(){return t&&t(a)}},c.a.createElement(O.a,{type:a}),c.a.createElement("span",null,n))}function T(e){var t=e.operation;return X.map(function(e,a){return c.a.createElement("li",{key:a},c.a.createElement(Y,{type:e.type,name:e.name}),e.child&&c.a.createElement("div",{className:"btn-item__list"},c.a.createElement("div",{className:"list-container"},c.a.createElement("ul",null,e.child.map(function(e,a){return c.a.createElement("li",{key:a,onClick:function(){return t(e,!0)}},c.a.createElement("div",{className:"tool-item"},c.a.createElement("div",{className:"tool-item__icon"}),c.a.createElement("span",{className:"tool-item__name"},e.name)))})))))})}var F=function(e){function t(){return Object(j.a)(this,t),Object(N.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props.operation;return c.a.createElement("header",{className:"editor-toolbar__top"},c.a.createElement("div",{className:"navbar-header"},c.a.createElement("img",{alt:"logo",src:"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg"})),c.a.createElement("div",{className:"editor-toolbar"},c.a.createElement("div",{className:"editor-toolbar__left"},c.a.createElement("ul",{className:"btns-box"},c.a.createElement("li",null,c.a.createElement(Y,{operation:e,name:"\u64a4\u9500",type:"rollback"})),c.a.createElement("li",null,c.a.createElement(Y,{operation:e,name:"\u91cd\u505a",type:"retweet"})))),c.a.createElement("div",{className:"editor-toolbar__center"},c.a.createElement("ul",{className:"btns-box"},c.a.createElement(T,{operation:e}))),c.a.createElement("div",{className:"editor-toolbar__right"},c.a.createElement("ul",{className:"btns-box"},c.a.createElement("li",null,c.a.createElement(Y,{operation:e,name:"\u4fdd\u5b58\u5e76\u9884\u89c8",type:"fullscreen"})),c.a.createElement("li",null,c.a.createElement(Y,{operation:e,name:"\u4fdd\u5b58",type:"save"})),c.a.createElement("li",null,c.a.createElement(Y,{operation:e,name:"\u9000\u51fa",type:"close"}))))))}}]),t}(c.a.Component),V={Rect:function(e){function t(){return Object(j.a)(this,t),Object(N.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.x,a={top:e.y||"0px",left:t||"0px",width:e.w+"px",height:e.h+"px"};return c.a.createElement("div",{className:"chart-component",style:a},c.a.createElement("div",{className:"chart-rect"},"\u6211\u662f\u77e9\u5f62"))}}]),t}(c.a.Component),MinIcon:function(e){function t(){return Object(j.a)(this,t),Object(N.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.x,a={top:e.y||"0px",left:t||"0px",width:e.w+"px",height:e.h+"px"};return c.a.createElement("div",{className:"chart-component",style:a},c.a.createElement("div",{className:"chart-icon"},c.a.createElement("div",{className:"icons"})))}}]),t}(c.a.Component)},W=function(e){function t(){var e,a;Object(j.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(N.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).move=function(e){e.persist();var t=e.pageX-a.props.x,n=e.pageY-a.props.y;document.onmousemove=function(e){var r=e.pageX-t,c=e.pageY-n;a.props.move(r,c,a.props.index)},document.onmouseup=function(){document.onmousemove=null}},a.resize=function(e,t){e.persist();var n=e.pageX,r=e.pageY,c=a.props.w,o=a.props.h,l=c,i=o;document.onmousemove=function(e){var s=e.pageX-n,m=e.pageY-r;if("w"===t)l=s+c;else if("h"===t)i=m+o;else{i=o*((l=s+c)/c)}a.props.resize(l,i,a.props.index)},document.onmouseup=function(){document.onmousemove=null}},a}return Object(x.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.x,n=t.y,r={top:n||"0px",left:a||"0px",width:t.w+"px",height:t.h+"px"},o="drag";return t.isEdit&&(o+=" isEdit"),c.a.createElement("div",{className:"chart-component",style:r,onMouseDown:this.props.select},c.a.createElement("div",{className:o},c.a.createElement("div",{className:"grid-line"},c.a.createElement("div",{className:"grid-line-top"}),c.a.createElement("div",{className:"grid-line-left"}),c.a.createElement("div",{className:"grid-line-label"},a,", ",n)),c.a.createElement("div",{className:"resize-handle-wrapper"},c.a.createElement("span",{className:"move-width",onMouseDown:function(t){t.persist(),e.resize(t,"w")}}),c.a.createElement("span",{className:"move-height",onMouseDown:function(t){t.persist(),e.resize(t,"h")}}),c.a.createElement("span",{className:"move-resize",onMouseDown:function(t){t.persist(),e.resize(t)}})),c.a.createElement("div",{className:"move-tap",onMouseDown:this.move})),this.props.children)}}]),t}(c.a.Component);function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var $,Q=[{exact:!0,path:"/",component:B},{path:"/editproject",component:function(e){function t(){var e,a;Object(j.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(N.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={stage:{w:800,h:600,scale:1},compList:[]},a.TopBarOperation=function(e,t){if(t){var n=a.clearSlect();n.push(function(e,t){var a=e.type,n=e.name,r=e.w,c=e.h,o=0,l=t.length;l&&t.forEach(function(e){e.type===a&&o++});var i=20,s=20;return o&&(n+=o),l&&(s=i=20*(l+1)),{x:i,y:s,w:r,h:c,name:n,type:a,isEdit:!0}}(e,n)),a.setState({compList:n})}},a.zoom=function(e){console.log(e);var t=Object.assign({},a.state.stage);t.scale=e/100,a.setState({stage:t})},a}return Object(x.a)(t,e),Object(w.a)(t,[{key:"clearSlect",value:function(){var e=Object(R.a)(this.state.compList);return e.map(function(e){return e.isEdit=!1}),e}},{key:"move",value:function(e,t,a){var n=Object(R.a)(this.state.compList);n[a].x=e,n[a].y=t,this.setState({compList:n})}},{key:"resize",value:function(e,t,a){var n=Object(R.a)(this.state.compList);n[a].w=e,n[a].h=t,this.setState({compList:n})}},{key:"tap",value:function(e){var t=this.clearSlect();t[e].isEdit=!0,this.setState({compList:t})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"editor-container"},c.a.createElement(F,{operation:this.TopBarOperation}),c.a.createElement("div",{className:"editor-ctrl__left"}),c.a.createElement("div",{className:"editor-ctrl__info"},c.a.createElement("div",{className:"title"},"\u6211\u7684\u7b2c\u4e00\u4e2a\u9879\u76ee")),c.a.createElement("div",{className:"editor-ctrl__body"},c.a.createElement("div",{style:{position:"relative"}},c.a.createElement("div",{className:"dashboard-container",style:{width:this.state.stage.w,height:this.state.stage.h,transform:"scale(".concat(this.state.stage.scale,")")}},c.a.createElement("div",{class:"dashboard-grid-overlay"}),this.state.compList.map(function(t,a){var n=t.type,r=Object(C.a)(t,["type"]),o=V[n],l=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(a,!0).forEach(function(t){Object(J.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},r),i=l.w,s=l.h;return c.a.createElement(W,Object.assign({},r,{key:a,index:a,select:function(){return e.tap(a)},move:function(t,a,n){return e.move(t,a,n)},resize:function(t,a,n){return e.resize(t,a,n)}}),c.a.createElement(o,{w:i,h:s}))})))),c.a.createElement("div",{className:"editor-ctrl__right"}),c.a.createElement("div",{className:"editor-ctrl__bottom"},c.a.createElement("div",{className:"zoom-tips"},"\u9762\u677f\u7f29\u653e\u767e\u5206\u6bd4"),c.a.createElement("div",{className:"zoom-slider"},c.a.createElement(H.a,{marks:{10:"10",105:"105",200:"200"},min:10,max:200,tooltipVisible:!0,defaultValue:100,onChange:function(t){return e.zoom(t)}}))))}}]),t}(c.a.Component)}],Z=Object(v.b)(d)($=function(e){function t(){return Object(j.a)(this,t),Object(N.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.isLogin,n=Object(C.a)(e,["component","isLogin"]);return c.a.createElement(s.b,Object.assign({},n,{render:function(e){return a?c.a.createElement(t,null):c.a.createElement(s.a,{to:{pathname:"/login",state:{redirect:e.location.pathname}}})}}))}}]),t}(c.a.Component))||$;var ee=function(){return c.a.createElement(i.a,null,c.a.createElement(v.a,{store:h},c.a.createElement(s.d,null,Q.map(function(e,t){return c.a.createElement(Z,Object.assign({key:t},e))}),c.a.createElement(s.b,{path:"/login",component:z}),c.a.createElement(s.b,{component:L}))))};a(380),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[164,1,2]]]);
//# sourceMappingURL=main.83b275dc.chunk.js.map